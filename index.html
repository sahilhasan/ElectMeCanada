<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <script src="//cdnjs.cloudflare.com/ajax/libs/list.js/1.1.1/list.min.js"></script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>ElectMeCanada</title>
  
    <script type="text/javascript">
      function LoadFile() 
      {
        var oFrame = document.getElementById("frmFile");
        var strRawContents = oFrame.contentWindow.document.body.childNodes[0].innerHTML;
        while (strRawContents.indexOf("\r") >= 0)
            strRawContents = strRawContents.replace("\r", "");
        var arrLines = strRawContents.split("?");
        for (var i = 0; i < arrLines.length; i++) {
             var curLine = arrLines[i].split(",");
             var tableRef = document.getElementById('tbl1').getElementsByTagName('tbody')[0];
             var newRow   = tableRef.insertRow(tableRef.rows.length);
             var job  = newRow.insertCell(0);
             job.innerHTML = curLine[0];
             job.className = 'job';
             var winP  = newRow.insertCell(1);
             winP.innerHTML = curLine[1] + "%";
            winP.className = 'winp';
             var data  = newRow.insertCell(2);
             data.innerHTML = "Run in " + curLine[2] + " as a member of " + curLine[3] + " in " + curLine[4];
              // document.getElementById('table').innerHTML = '<li>
              //   <h1 class="job">' + curLine[0] + '</h1>
              // <h2 class = "win">' + curLine[1] + '</h2>
              //   <p class="data">' + curLine[2] + '</p>
              //   </li>';
              }
      }
     
      
    </script> 
  </head>

  <body>
    <div id="container">
      <iframe id="frmFile" src="out.txt" onload="LoadFile();" style="display: none;"></iframe>
      <div class="inner">

        <header>
          <h1>ElectMeCanada</h1>
          <h2>See what it takes to get elected in Canada</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/Spriggs857/ElectMeCanada/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/Spriggs857/ElectMeCanada/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/Spriggs857/ElectMeCanada" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <div id="users">
            <input class="search" placeholder="Enter Profession or Percentage Here" size="50"/>
            <button class="sort" data-sort="name">Sort</button>
            <table id = "tbl1">
              <tbody class="list">
              </tbody>
            </table>
          </div>
            <script src="http://listjs.com/no-cdn/list.js"></script>
              <script src="javascripts/main.js"></script>
  
        </section>

        <footer>
          ElectMeCanada is maintained by <a href="https://github.com/Spriggs857">Sahil Hasan</a><br>
          Contact him at sahilhasan@berkeley.edu
          Made by Sahil Hasan, Andy Cui, and Oliver Dong
          Powered by Big Data and HeapSort (http://open.canada.ca/)
        </footer>

        
      </div>
    </div>
  </body>
</html>
